import{G as ee,d as F,u as G,a as j,b as te,s as ae,r as E,c as R,e as q,f,o as P,F as D,g as a,w as p,h as H,i as le,j as oe,k as w,p as x,l as C,m as O,n as ne,t as U,q as se,v as re,x as k,y as g,z as ie,A as N,B as ue,C as A,D as J,E as ce,H as de,I as ve,J as me,K as ge,L as fe,M as K,N as he,O as be,P as pe,Q as ye,R as Se,S as Ve,T as _e,U as ke,V as xe,W as Te}from"./index-CTlikq3M.js";import{u as Q,a as Y}from"./ssrBoot-CPnMBxYy.js";import{V as B,a as Be,b as Pe}from"./VNavigationDrawer-W0XUOm31.js";import{V as M,m as $,a as we,b as Ce,c as Ie,u as Ne,d as Ae,e as He,f as Ee,g as Le,h as L,i as Re,j as De,k as Ue}from"./VGrid-6GaFem8e.js";import{V as X,a as Me,m as Fe}from"./scopeId-DxP5jIOq.js";import"./delay-C-5fX2Mz.js";const Oe=new ee,$e=F({__name:"UserMenu",setup(e){const r=G(),t=j(),o=Q(),s=te(),{getUsername:l,getFriendId:n}=ae(o),i=E(!1),c=async()=>{r&&(i.value=!0,await le(r,Oe).catch(m=>{console.error("Failed sign",m)}),i.value=!1)},y=async()=>{r&&(await oe(r),s.push("/"))};return(m,d)=>f(t)?(P(),R(D,{key:0},[a(B,{"prepend-avatar":f(t).photoURL??"",title:f(l)||f(t).displayName||"",subtitle:f(n)||f(t).email||"",tag:"router-link",to:"settings"},null,8,["prepend-avatar","title","subtitle"]),a(B,{onClick:y},{default:p(()=>[a(M,{icon:"mdi-logout"}),d[0]||(d[0]=H(" Sair "))]),_:1})],64)):(P(),q(B,{key:1},{default:p(()=>[a(X,{"prepend-icon":"mdi-google",disabled:f(i),loading:f(i),onClick:c},{default:p(()=>d[1]||(d[1]=[H(" Entrar com Google ")])),_:1},8,["disabled","loading"])]),_:1}))}}),ze=x({text:String,...O(),...$()},"VToolbarTitle"),We=w()({name:"VToolbarTitle",props:ze(),setup(e,r){let{slots:t}=r;return C(()=>{const o=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var s;return[o&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(s=t.default)==null?void 0:s.call(t)])]}})}),{}}}),Ge=[null,"prominent","default","comfortable","compact"],Z=x({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ge.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Ie(),...O(),...Ce(),...we(),...$({tag:"header"}),...ne()},"VToolbar"),W=w()({name:"VToolbar",props:Z(),setup(e,r){var b;let{slots:t}=r;const{backgroundColorClasses:o,backgroundColorStyles:s}=Ne(U(e,"color")),{borderClasses:l}=Ae(e),{elevationClasses:n}=He(e),{roundedClasses:i}=Ee(e),{themeClasses:c}=se(e),{rtlClasses:y}=re(),m=k(!!(e.extended||(b=t.extension)!=null&&b.call(t))),d=g(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),V=g(()=>m.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ie({VBtn:{variant:"text"}}),C(()=>{var I;const v=!!(e.title||t.title),h=!!(t.image||e.image),_=(I=t.extension)==null?void 0:I.call(t);return m.value=!!(e.extended||_),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},o.value,l.value,n.value,i.value,c.value,y.value,e.class],style:[s.value,e.style]},{default:()=>[h&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(L,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(Le,{key:"image-img",cover:!0,src:e.image},null)]),a(L,{defaults:{VTabs:{height:N(d.value)}}},{default:()=>{var u,S,T;return[a("div",{class:"v-toolbar__content",style:{height:N(d.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(u=t.prepend)==null?void 0:u.call(t)]),v&&a(We,{key:"title",text:e.title},{text:t.title}),(S=t.default)==null?void 0:S.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(T=t.append)==null?void 0:T.call(t)])])]}}),a(L,{defaults:{VTabs:{height:N(V.value)}}},{default:()=>[a(Me,null,{default:()=>[m.value&&a("div",{class:"v-toolbar__extension",style:{height:N(V.value)}},[_])]})]})]})}),{contentHeight:d,extensionHeight:V}}}),je=x({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function qe(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=r;let o=0,s=0;const l=E(null),n=k(0),i=k(0),c=k(0),y=k(!1),m=k(!1),d=g(()=>Number(e.scrollThreshold)),V=g(()=>ue((d.value-n.value)/d.value||0)),b=()=>{const v=l.value;if(!v||t&&!t.value)return;o=n.value,n.value="window"in v?v.pageYOffset:v.scrollTop;const h=v instanceof Window?document.documentElement.scrollHeight:v.scrollHeight;if(s!==h){s=h;return}m.value=n.value<o,c.value=Math.abs(n.value-d.value)};return A(m,()=>{i.value=i.value||n.value}),A(y,()=>{i.value=0}),J(()=>{A(()=>e.scrollTarget,v=>{var _;const h=v?document.querySelector(v):window;h&&h!==l.value&&((_=l.value)==null||_.removeEventListener("scroll",b),l.value=h,l.value.addEventListener("scroll",b,{passive:!0}))},{immediate:!0})}),ce(()=>{var v;(v=l.value)==null||v.removeEventListener("scroll",b)}),t&&A(t,b,{immediate:!0}),{scrollThreshold:d,currentScroll:n,currentThreshold:c,isScrollActive:y,scrollRatio:V,isScrollingUp:m,savedScroll:i}}const Je=x({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Z(),...fe(),...je(),height:{type:[Number,String],default:64}},"VAppBar"),Ke=w()({name:"VAppBar",props:Je(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:t}=r;const o=E(),s=de(e,"modelValue"),l=g(()=>{var S;const u=new Set(((S=e.scrollBehavior)==null?void 0:S.split(" "))??[]);return{hide:u.has("hide"),fullyHide:u.has("fully-hide"),inverted:u.has("inverted"),collapse:u.has("collapse"),elevate:u.has("elevate"),fadeImage:u.has("fade-image")}}),n=g(()=>{const u=l.value;return u.hide||u.fullyHide||u.inverted||u.collapse||u.elevate||u.fadeImage||!s.value}),{currentScroll:i,scrollThreshold:c,isScrollingUp:y,scrollRatio:m}=qe(e,{canScroll:n}),d=g(()=>l.value.hide||l.value.fullyHide),V=g(()=>e.collapse||l.value.collapse&&(l.value.inverted?m.value>0:m.value===0)),b=g(()=>e.flat||l.value.fullyHide&&!s.value||l.value.elevate&&(l.value.inverted?i.value>0:i.value===0)),v=g(()=>l.value.fadeImage?l.value.inverted?1-m.value:m.value:void 0),h=g(()=>{var T,z;if(l.value.hide&&l.value.inverted)return 0;const u=((T=o.value)==null?void 0:T.contentHeight)??0,S=((z=o.value)==null?void 0:z.extensionHeight)??0;return d.value?i.value<c.value||l.value.fullyHide?u+S:u:u+S});ve(g(()=>!!e.scrollBehavior),()=>{me(()=>{d.value?l.value.inverted?s.value=i.value>c.value:s.value=y.value||i.value<c.value:s.value=!0})});const{ssrBootStyles:_}=Y(),{layoutItemStyles:I}=ge({id:e.name,order:g(()=>parseInt(e.order,10)),position:U(e,"location"),layoutSize:h,elementSize:k(void 0),active:s,absolute:U(e,"absolute")});return C(()=>{const u=W.filterProps(e);return a(W,K({ref:o,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...I.value,"--v-toolbar-image-opacity":v.value,height:void 0,..._.value},e.style]},u,{collapse:V.value,flat:b.value}),t)}),{}}}),Qe=x({...Fe({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),Ye=w()({name:"VAppBarNavIcon",props:Qe(),setup(e,r){let{slots:t}=r;return C(()=>a(X,K(e,{class:["v-app-bar-nav-icon"]}),t)),{}}}),Xe=Re("v-spacer","div","VSpacer"),Ze=F({__name:"AppNavigation",setup(e){const r=[{label:"Editar Sua Lista",target:"collection",icon:"mdi-bookmark-box-multiple"},{label:"Listas",target:"lists",icon:"mdi-swap-horizontal"}],{mdAndUp:t}=he(),o=E(t.value),s=j();return(l,n)=>{const i=$e;return P(),R(D,null,[a(Ke,{density:"comfortable"},{prepend:p(()=>[a(Ye,{onClick:n[0]||(n[0]=be(c=>o.value=!f(o),["stop"]))})]),_:1}),a(Pe,{modelValue:f(o),"onUpdate:modelValue":n[1]||(n[1]=c=>Se(o)?o.value=c:null),permanent:f(t)},{append:p(()=>[a(Be,{class:"my-3"}),a(i),a(Xe,{class:"mb-3"})]),default:p(()=>[a(B,{tag:"router-link",to:"/",class:"mt-3"},{default:p(()=>[a(M,{icon:"mdi-home"}),n[2]||(n[2]=H(" Inicio "))]),_:1}),f(s)?(P(),R(D,{key:0},ye(r,c=>a(B,{tag:"router-link",to:c.target},{default:p(()=>[a(M,{class:"mr-2",icon:c.icon},null,8,["icon"]),H(" "+Ve(c.label),1)]),_:2},1032,["to"])),64)):pe("",!0)]),_:1},8,["modelValue","permanent"])],64)}}}),et=x({scrollable:Boolean,...O(),...Ue(),...$({tag:"main"})},"VMain"),tt=w()({name:"VMain",props:et(),setup(e,r){let{slots:t}=r;const{dimensionStyles:o}=De(e),{mainStyles:s}=_e(),{ssrBootStyles:l}=Y();return C(()=>a(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[s.value,l.value,o.value,e.style]},{default:()=>{var n,i;return[e.scrollable?a("div",{class:"v-main__scroller"},[(n=t.default)==null?void 0:n.call(t)]):(i=t.default)==null?void 0:i.call(t)]}})),{}}}),it=F({__name:"default",setup(e){const r=G(),t=Q();return J(async()=>{r==null||r.onAuthStateChanged(async o=>{if(!o)return;const s=await ke(o.uid);s&&t.loadList(s);const l=await xe(o.uid);l&&t.loadPlayer(l)})}),(o,s)=>{const l=Ze,n=Te("router-view");return P(),q(tt,null,{default:p(()=>[a(l),a(n)]),_:1})}}});export{it as default};
