import{g as C,p as A,c as s,m as R,T as j,u as oe,a as le,b as ye,d as w,r as N,i as be,s as T,o as se,e as pe,n as xe,f as G,w as B,I as Y,h as L,j as we,k as U,l as Ve,q as _e,t as Se,G as ke,v as K,x as ie,y as re,z as Te,A as P,B as S,C as E,D as V,E as O,F as $,H as ue,J as Ee,K as Pe,L as W,M as Ae,N as F,O as Ce,P as Be,Q as I,R as Le,S as ce,U as Ie,V as He,W as De,X as Re,Y as Me,Z as Ne,_ as Ue,$ as Oe,a0 as $e,a1 as Fe,a2 as qe,a3 as Ke}from"./index-HGTM-Inb.js";import{u as de,a as ve}from"./ssrBoot-DU0msSwF.js";import{V as q,a as fe,b as M,c as We,d as ze}from"./index-CSxJNvU0.js";import{V as D,a as X,m as z,b as je,c as Ge,d as Ye,u as Xe,e as Je,f as Qe,g as Ze,h as et,i as tt,j as at,k as nt}from"./VContainer-DBk8FXSd.js";import{u as ot,m as lt,V as J,a as Q}from"./VOverlay-CF-xaHnw.js";import{a as H,g as st,n as it,b as rt,d as ut,s as Z,f as ct}from"./forwardRefs-DWGaNmQL.js";import{V as dt,a as ee}from"./VList-TO3YWJhQ.js";const vt=A({target:[Object,Array]},"v-dialog-transition"),ft=C()({name:"VDialogTransition",props:vt(),setup(e,v){let{slots:t}=v;const l={onBeforeEnter(n){n.style.pointerEvents="none",n.style.visibility="hidden"},async onEnter(n,o){var p;await new Promise(g=>requestAnimationFrame(g)),await new Promise(g=>requestAnimationFrame(g)),n.style.visibility="";const{x:r,y:u,sx:d,sy:c,speed:f}=ae(e.target,n),h=H(n,[{transform:`translate(${r}px, ${u}px) scale(${d}, ${c})`,opacity:0},{}],{duration:225*f,easing:ut});(p=te(n))==null||p.forEach(g=>{H(g,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*f,easing:Z})}),h.finished.then(()=>o())},onAfterEnter(n){n.style.removeProperty("pointer-events")},onBeforeLeave(n){n.style.pointerEvents="none"},async onLeave(n,o){var p;await new Promise(g=>requestAnimationFrame(g));const{x:r,y:u,sx:d,sy:c,speed:f}=ae(e.target,n);H(n,[{},{transform:`translate(${r}px, ${u}px) scale(${d}, ${c})`,opacity:0}],{duration:125*f,easing:rt}).finished.then(()=>o()),(p=te(n))==null||p.forEach(g=>{H(g,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*f,easing:Z})})},onAfterLeave(n){n.style.removeProperty("pointer-events")}};return()=>e.target?s(j,R({name:"dialog-transition"},l,{css:!1}),t):s(j,{name:"dialog-transition"},t)}});function te(e){var t;const v=(t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return v&&[...v]}function ae(e,v){const t=st(e),l=it(v),[n,o]=getComputedStyle(v).transformOrigin.split(" ").map(m=>parseFloat(m)),[r,u]=getComputedStyle(v).getPropertyValue("--v-overlay-anchor-origin").split(" ");let d=t.left+t.width/2;r==="left"||u==="left"?d-=t.width/2:(r==="right"||u==="right")&&(d+=t.width/2);let c=t.top+t.height/2;r==="top"||u==="top"?c-=t.height/2:(r==="bottom"||u==="bottom")&&(c+=t.height/2);const f=t.width/l.width,h=t.height/l.height,p=Math.max(1,f,h),g=f/p||0,y=h/p||0,x=l.width*l.height/(window.innerWidth*window.innerHeight),a=x>.12?Math.min(1.5,(x-.12)*10+1):1;return{x:d-(n+l.left),y:c-(o+l.top),sx:g,sy:y,speed:a}}const mt=A({id:String,submenu:Boolean,...we(lt({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:ft}}),["absolute"])},"VMenu"),gt=C()({name:"VMenu",props:mt(),emits:{"update:modelValue":e=>!0},setup(e,v){let{slots:t}=v;const l=oe(e,"modelValue"),{scopeId:n}=ot(),{isRtl:o}=le(),r=ye(),u=w(()=>e.id||`v-menu-${r}`),d=N(),c=be(J,null),f=T(new Set);_e(J,{register(){f.value.add(r)},unregister(){f.value.delete(r)},closeParents(a){setTimeout(()=>{var m;!f.value.size&&!e.persistent&&(a==null||(m=d.value)!=null&&m.contentEl&&!Se(a,d.value.contentEl))&&(l.value=!1,c==null||c.closeParents())},40)}}),se(()=>{c==null||c.unregister(),document.removeEventListener("focusin",h)}),pe(()=>l.value=!1);async function h(a){var b,_,k;const m=a.relatedTarget,i=a.target;await xe(),l.value&&m!==i&&((b=d.value)!=null&&b.contentEl)&&((_=d.value)!=null&&_.globalTop)&&![document,d.value.contentEl].includes(i)&&!d.value.contentEl.contains(i)&&((k=G(d.value.contentEl)[0])==null||k.focus())}B(l,a=>{a?(c==null||c.register(),Y&&document.addEventListener("focusin",h,{once:!0})):(c==null||c.unregister(),Y&&document.removeEventListener("focusin",h))},{immediate:!0});function p(a){c==null||c.closeParents(a)}function g(a){var m,i,b,_,k;if(!e.disabled)if(a.key==="Tab"||a.key==="Enter"&&!e.closeOnContentClick){if(a.key==="Enter"&&(a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLInputElement&&a.target.closest("form")))return;a.key==="Enter"&&a.preventDefault(),Ve(G((m=d.value)==null?void 0:m.contentEl,!1),a.shiftKey?"prev":"next",he=>he.tabIndex>=0)||(l.value=!1,(b=(i=d.value)==null?void 0:i.activatorEl)==null||b.focus())}else e.submenu&&a.key===(o.value?"ArrowRight":"ArrowLeft")&&(l.value=!1,(k=(_=d.value)==null?void 0:_.activatorEl)==null||k.focus())}function y(a){var i;if(e.disabled)return;const m=(i=d.value)==null?void 0:i.contentEl;m&&l.value?a.key==="ArrowDown"?(a.preventDefault(),a.stopImmediatePropagation(),U(m,"next")):a.key==="ArrowUp"?(a.preventDefault(),a.stopImmediatePropagation(),U(m,"prev")):e.submenu&&(a.key===(o.value?"ArrowRight":"ArrowLeft")?l.value=!1:a.key===(o.value?"ArrowLeft":"ArrowRight")&&(a.preventDefault(),U(m,"first"))):(e.submenu?a.key===(o.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(a.key))&&(l.value=!0,a.preventDefault(),setTimeout(()=>setTimeout(()=>y(a))))}const x=w(()=>R({"aria-haspopup":"menu","aria-expanded":String(l.value),"aria-controls":u.value,onKeydown:y},e.activatorProps));return L(()=>{const a=Q.filterProps(e);return s(Q,R({ref:d,id:u.value,class:["v-menu",e.class],style:e.style},a,{modelValue:l.value,"onUpdate:modelValue":m=>l.value=m,absolute:!0,activatorProps:x.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":p,onKeydown:g},n),{activator:t.activator,default:function(){for(var m=arguments.length,i=new Array(m),b=0;b<m;b++)i[b]=arguments[b];return s(D,{root:"VMenu"},{default:()=>{var _;return[(_=t.default)==null?void 0:_.call(t,...i)]}})}})}),ct({id:u,ΨopenChildren:f},d)}}),ht={class:"text-body-1"},yt={class:"text-body-2"},bt=new ke,pt=K({__name:"UserMenu",setup(e){const v=ie(),t=re(),l=de(),{getUsername:n,getFriendId:o}=Te(l),r=async()=>{v&&await Ee(v)},u=N(!1),d=async()=>{v&&(u.value=!0,await Pe(v,bt).catch(c=>{console.error("Failed sign",c)}),u.value=!1)};return(c,f)=>S(t)?(E(),P(q,{key:0,class:"p-0",size:"large"},{default:V(()=>[s(fe,{class:"flex-nowrap text-right","no-gutters":""},{default:V(()=>[s(M,{cols:"auto",class:"mr-2"},{default:V(()=>[O("span",ht,$(S(n)||S(t).displayName),1),f[0]||(f[0]=O("br",null,null,-1)),O("span",yt,$(S(o)||S(t).email),1)]),_:1}),s(M,{cols:"auto"},{default:V(()=>[S(t).photoURL?(E(),P(X,{key:0,color:"surface-variant",image:S(t).photoURL},null,8,["image"])):(E(),P(X,{key:1,color:"surface-variant"}))]),_:1})]),_:1}),s(gt,{activator:"parent"},{default:V(()=>[s(dt,{class:"text-right"},{default:V(()=>[s(ee,{tag:"router-link",to:"settings",title:"Perfil"}),s(ee,{onClick:r,title:"Sair"})]),_:1})]),_:1})]),_:1})):(E(),P(q,{key:1,"prepend-icon":"mdi-login",disabled:S(u),loading:S(u),onClick:d},{default:V(()=>f[1]||(f[1]=[ue(" Entrar com conta Google ")])),_:1},8,["disabled","loading"]))}}),xt=A({text:String,...W(),...z()},"VToolbarTitle"),wt=C()({name:"VToolbarTitle",props:xt(),setup(e,v){let{slots:t}=v;return L(()=>{const l=!!(t.default||t.text||e.text);return s(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var n;return[l&&s("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(n=t.default)==null?void 0:n.call(t)])]}})}),{}}}),Vt=[null,"prominent","default","comfortable","compact"],me=A({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Vt.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Ye(),...W(),...Ge(),...je(),...z({tag:"header"}),...Ae()},"VToolbar"),ne=C()({name:"VToolbar",props:me(),setup(e,v){var g;let{slots:t}=v;const{backgroundColorClasses:l,backgroundColorStyles:n}=Xe(F(e,"color")),{borderClasses:o}=Je(e),{elevationClasses:r}=Qe(e),{roundedClasses:u}=Ze(e),{themeClasses:d}=Ce(e),{rtlClasses:c}=le(),f=T(!!(e.extended||(g=t.extension)!=null&&g.call(t))),h=w(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),p=w(()=>f.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Be({VBtn:{variant:"text"}}),L(()=>{var m;const y=!!(e.title||t.title),x=!!(t.image||e.image),a=(m=t.extension)==null?void 0:m.call(t);return f.value=!!(e.extended||a),s(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},l.value,o.value,r.value,u.value,d.value,c.value,e.class],style:[n.value,e.style]},{default:()=>[x&&s("div",{key:"image",class:"v-toolbar__image"},[t.image?s(D,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):s(et,{key:"image-img",cover:!0,src:e.image},null)]),s(D,{defaults:{VTabs:{height:I(h.value)}}},{default:()=>{var i,b,_;return[s("div",{class:"v-toolbar__content",style:{height:I(h.value)}},[t.prepend&&s("div",{class:"v-toolbar__prepend"},[(i=t.prepend)==null?void 0:i.call(t)]),y&&s(wt,{key:"title",text:e.title},{text:t.title}),(b=t.default)==null?void 0:b.call(t),t.append&&s("div",{class:"v-toolbar__append"},[(_=t.append)==null?void 0:_.call(t)])])]}}),s(D,{defaults:{VTabs:{height:I(p.value)}}},{default:()=>[s(We,null,{default:()=>[f.value&&s("div",{class:"v-toolbar__extension",style:{height:I(p.value)}},[a])]})]})]})}),{contentHeight:h,extensionHeight:p}}}),_t=A({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function St(e){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=v;let l=0,n=0;const o=N(null),r=T(0),u=T(0),d=T(0),c=T(!1),f=T(!1),h=w(()=>Number(e.scrollThreshold)),p=w(()=>Le((h.value-r.value)/h.value||0)),g=()=>{const y=o.value;if(!y||t&&!t.value)return;l=r.value,r.value="window"in y?y.pageYOffset:y.scrollTop;const x=y instanceof Window?document.documentElement.scrollHeight:y.scrollHeight;if(n!==x){n=x;return}f.value=r.value<l,d.value=Math.abs(r.value-h.value)};return B(f,()=>{u.value=u.value||r.value}),B(c,()=>{u.value=0}),ce(()=>{B(()=>e.scrollTarget,y=>{var a;const x=y?document.querySelector(y):window;x&&x!==o.value&&((a=o.value)==null||a.removeEventListener("scroll",g),o.value=x,o.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),se(()=>{var y;(y=o.value)==null||y.removeEventListener("scroll",g)}),t&&B(t,g,{immediate:!0}),{scrollThreshold:h,currentScroll:r,currentThreshold:d,isScrollActive:c,scrollRatio:p,isScrollingUp:f,savedScroll:u}}const kt=A({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...me(),...Re(),..._t(),height:{type:[Number,String],default:64}},"VAppBar"),Tt=C()({name:"VAppBar",props:kt(),emits:{"update:modelValue":e=>!0},setup(e,v){let{slots:t}=v;const l=N(),n=oe(e,"modelValue"),o=w(()=>{var b;const i=new Set(((b=e.scrollBehavior)==null?void 0:b.split(" "))??[]);return{hide:i.has("hide"),fullyHide:i.has("fully-hide"),inverted:i.has("inverted"),collapse:i.has("collapse"),elevate:i.has("elevate"),fadeImage:i.has("fade-image")}}),r=w(()=>{const i=o.value;return i.hide||i.fullyHide||i.inverted||i.collapse||i.elevate||i.fadeImage||!n.value}),{currentScroll:u,scrollThreshold:d,isScrollingUp:c,scrollRatio:f}=St(e,{canScroll:r}),h=w(()=>o.value.hide||o.value.fullyHide),p=w(()=>e.collapse||o.value.collapse&&(o.value.inverted?f.value>0:f.value===0)),g=w(()=>e.flat||o.value.fullyHide&&!n.value||o.value.elevate&&(o.value.inverted?u.value>0:u.value===0)),y=w(()=>o.value.fadeImage?o.value.inverted?1-f.value:f.value:void 0),x=w(()=>{var _,k;if(o.value.hide&&o.value.inverted)return 0;const i=((_=l.value)==null?void 0:_.contentHeight)??0,b=((k=l.value)==null?void 0:k.extensionHeight)??0;return h.value?u.value<d.value||o.value.fullyHide?i+b:i:i+b});Ie(w(()=>!!e.scrollBehavior),()=>{He(()=>{h.value?o.value.inverted?n.value=u.value>d.value:n.value=c.value||u.value<d.value:n.value=!0})});const{ssrBootStyles:a}=ve(),{layoutItemStyles:m}=De({id:e.name,order:w(()=>parseInt(e.order,10)),position:F(e,"location"),layoutSize:x,elementSize:T(void 0),active:n,absolute:F(e,"absolute")});return L(()=>{const i=ne.filterProps(e);return s(ne,R({ref:l,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...m.value,"--v-toolbar-image-opacity":y.value,height:void 0,...a.value},e.style]},i,{collapse:p.value,flat:g.value}),t)}),{}}}),Et=K({__name:"AppNavigation",setup(e){const v=[{label:"Sua Coleção",target:"collection"},{label:"Trocas",target:"matches"}],t=re();return(l,n)=>{const o=pt;return E(),P(Tt,{density:"comfortable"},{default:V(()=>[s(tt,null,{default:V(()=>[s(fe,{"no-gutters":""},{default:V(()=>[S(t)?(E(),P(M,{key:0},{default:V(()=>[s(ze,null,{default:V(()=>[(E(),Ne(Oe,null,Ue(v,r=>s(q,{tag:"router-link",to:r.target,"active-color":"primary"},{default:V(()=>[ue($(r.label),1)]),_:2},1032,["to"])),64))]),_:1})]),_:1})):Me("",!0),s(M,{cols:"auto",class:"ml-auto"},{default:V(()=>[s(o)]),_:1})]),_:1})]),_:1})]),_:1})}}}),Pt=A({scrollable:Boolean,...W(),...nt(),...z({tag:"main"})},"VMain"),At=C()({name:"VMain",props:Pt(),setup(e,v){let{slots:t}=v;const{dimensionStyles:l}=at(e),{mainStyles:n}=$e(),{ssrBootStyles:o}=ve();return L(()=>s(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[n.value,o.value,l.value,e.style]},{default:()=>{var r,u;return[e.scrollable?s("div",{class:"v-main__scroller"},[(r=t.default)==null?void 0:r.call(t)]):(u=t.default)==null?void 0:u.call(t)]}})),{}}}),Mt=K({__name:"default",setup(e){const v=ie(),t=de();return ce(async()=>{v==null||v.onAuthStateChanged(async l=>{if(!l)return;const n=await Fe(l.uid);n&&t.loadList(n);const o=await qe(l.uid);o&&t.loadPlayer(o)})}),(l,n)=>{const o=Et,r=Ke("router-view");return E(),P(At,null,{default:V(()=>[s(o),s(r)]),_:1})}}});export{Mt as default};
